(function(){"use strict";var e={7098:function(e,t,a){var n=a(9242),l=a(3396);function r(e,t,a,n,r,s){const o=(0,l.up)("notifications"),i=(0,l.up)("router-view");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l.Wm)(o,{position:"top center",classes:"notification-custom"}),(0,l.Wm)(i)])}var s=a(7139),o={name:"App",created(){this.checkLogin()},methods:{...(0,s.nv)("authStore",["checkLogin"])}},i=a(89);const m=(0,i.Z)(o,[["render",r]]);var d=m,c=a(2483);function u(e,t){const a=(0,l.up)("router-view");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l.Wm)(a)])}const h={},p=(0,i.Z)(h,[["render",u]]);var f=p;a(7658);var x=a(2268);const g={class:"flex justify-center"},b={class:"flex flex-col items-center py-[60px] px-[16px] md:w-[750px] w-full"},v=(0,l._)("h1",{class:"md:text-[30px] text-[20px] font-bold mb-5"}," Danh sách trò chơi ",-1),_={class:"mb-5"},w=(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"3",stroke:"currentColor",class:"md:w-6 md:h-6 w-4 h-4"},[(0,l._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})],-1),k=(0,l._)("span",{class:"md:ml-4 ml-2 md:text-[16px] text-[12px]"},"Thêm mới trò chơi",-1),y=[w,k],E={class:"text-color-5 font-bold pr-[16px] md:text-[14px] text-[12px]"},S={class:"flex"},C=["onClick"],G=(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2.5",stroke:"#ffffff",class:"md:w-6 md:h-6 w-4 h-4"},[(0,l._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1),D=[G],T=["onClick"],L=(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2.5",stroke:"#ffffff",class:"md:w-6 md:h-6 w-4 h-4"},[(0,l._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"})],-1),R=[L],A=["onClick"],M=(0,l._)("svg",{"data-v-7580edd3":"",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"3",stroke:"#ffffff",class:"md:w-6 md:h-6 w-4 h-4"},[(0,l._)("path",{"data-v-7580edd3":"","stroke-linecap":"round","stroke-linejoin":"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.348a1.125 1.125 0 010 1.971l-11.54 6.347a1.125 1.125 0 01-1.667-.985V5.653z"})],-1),I=[M],U={id:"modalConfirm","data-te-modal-init":"",class:"fixed left-0 top-0 z-[1055] hidden h-full w-full overflow-y-auto overflow-x-hidden outline-none",tabindex:"-1","aria-labelledby":"modalConfirmLabel","aria-hidden":"true","data-te-backdrop":"static"},V={"data-te-modal-dialog-ref":"",class:"pointer-events-none relative flex min-h-[calc(100%-1rem)] w-auto translate-y-[-50px] items-center opacity-0 transition-all duration-300 ease-in-out min-[576px]:mx-auto min-[576px]:mt-7 min-[576px]:min-h-[calc(100%-3.5rem)] min-[576px]:max-w-[500px] p-[16px]"},O={class:"pointer-events-auto relative flex w-full flex-col md:rounded-[50px] rounded-[20px] border-none bg-white bg-clip-padding text-current shadow-lg outline-none"},j={class:"relative flex-auto p-4 pt-[16px]","data-te-modal-body-ref":""},q=(0,l._)("div",{class:"text-[12px] md:text-[14px]"}," Bạn có chắc chắn muốn xoá game? ",-1),z={class:"text-color-5 font font-bold text-[12px] md:text-[14px]"},$={class:"flex justify-center mt-5"},N=(0,l._)("button",{class:"btn-default btn-default--blue flex-shrink-0 mr-3 md:text-[16px] text-[12px]","data-te-modal-dismiss":""}," Huỷ ",-1);function K(e,t,a,n,r,s){return(0,l.wg)(),(0,l.iD)("div",g,[(0,l._)("div",b,[v,(0,l._)("div",_,[(0,l._)("button",{class:"btn-default flex-shrink-0 mr-2",type:"button",onClick:t[0]||(t[0]=t=>e.$router.push({name:"game_add"}))},y)]),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(r.savedGames,((t,a)=>((0,l.wg)(),(0,l.iD)("div",{key:a,class:"flex items-center justify-between bg-color-4 w-full rounded-xl text-left p-[16px] mb-4"},[(0,l._)("div",E,(0,x.zw)(t.gameData.name),1),(0,l._)("div",S,[(0,l._)("button",{class:"btn-default btn-default--red flex-shrink-0 mr-2",type:"button",onClick:e=>s.confirmDeleteGame(t.gameId,t.gameData.name)},D,8,C),(0,l._)("button",{class:"btn-default btn-default--blue flex-shrink-0 mr-2",type:"button",onClick:a=>e.$router.push({name:"game_edit",params:{id:t.gameId}})},R,8,T),(0,l._)("button",{class:"btn-default btn-default--purple flex-shrink-0",type:"button",onClick:a=>e.$router.push({name:"game_play",params:{id:t.gameId}})},I,8,A)])])))),128))]),(0,l._)("div",U,[(0,l._)("div",V,[(0,l._)("div",O,[(0,l._)("div",j,[(0,l._)("div",null,[q,(0,l._)("div",z,(0,x.zw)(r.deleteGameName),1)]),(0,l._)("div",$,[N,(0,l._)("button",{class:"btn-default btn-default--purple flex-shrink-0 flex items-center md:text-[16px] text-[12px]",onClick:t[1]||(t[1]=(...e)=>s.deleteGame&&s.deleteGame(...e))}," Đồng ý ")])])])])])])}var B=a(5800);const H={LOCAL_STORAGE_KEY:{ACCESS_USER:"__access_user_",GAME_PICK_LETTER:"__game_pick_letter_"},ROUTE_NO_AUTH:["login"]};var W=H,Y={data(){return{savedGames:[],deleteGameId:null,deleteGameName:null}},mounted(){this.loadSavedGames(),this.modalEl=document.getElementById("modalConfirm"),this.modalConfirm=new B.u_(this.modalEl),(0,B.vN)({Modal:B.u_,Ripple:B.HW})},methods:{loadSavedGames(){const e=[];for(let t=0;t<localStorage.length;t++){const a=localStorage.key(t);if(a.startsWith(W.LOCAL_STORAGE_KEY.GAME_PICK_LETTER)){const t=a.replace(W.LOCAL_STORAGE_KEY.GAME_PICK_LETTER,""),n=JSON.parse(localStorage.getItem(a));e.push({gameId:t,gameData:n})}}this.savedGames=e},confirmDeleteGame(e,t){this.deleteGameId=e,this.deleteGameName=t,this.modalConfirm.show()},deleteGame(){if(this.modalConfirm.hide(),this.deleteGameId)return localStorage.removeItem(W.LOCAL_STORAGE_KEY.GAME_PICK_LETTER+this.deleteGameId),this.loadSavedGames(),void this.$notify({text:"Xoá thành công",type:"success"});this.$notify({text:"Xoá không thành công",type:"error"})}}};const P=(0,i.Z)(Y,[["render",K]]);var F=P;const Z={class:"flex justify-between py-[10px] px-[16px]"},J={class:"text-left flex items-center font-bold"},X=(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"3",stroke:"#ffffff",class:"md:w-6 md:h-6 w-4 h-4"},[(0,l._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15M12 9l-3 3m0 0l3 3m-3-3h12.75"})],-1),Q=[X],ee={class:"font-bold flex flex-col items-center justify-center"},te=(0,l._)("div",{class:"flex md:text-[25px] text-[14px] text-color-5 uppercase"}," TÌM ĐÁM ÁN ",-1),ae={class:"flex justify-center"},ne={class:"text-rose-500 md:text-[22px] text-[14px]"},le={class:"text-right flex flex-col justify-center font-bold"},re={class:"flex md:mb-3 mb-1"},se=["src"],oe={class:"text-color-5 md:text-[16px] text-[12px]"},ie={class:"flex"},me=["src"],de={class:"text-color-5 min-w-[50px] text-left md:text-[16px] text-[12px]"},ce={class:"wrap-game md:h-[calc(100vh-91px)] h-[calc(100vh-65px)] md:pt-[40px] pt-[20px] md:pb-[100px] pb-[40px] md:px-[100px] px-[40px] border border-dashed"},ue={class:"box-game h-[100%] relative border border-dashed"},he=["onClick"],pe={id:"modalStartGame","data-te-modal-init":"",class:"fixed left-0 top-0 z-[1055] hidden h-full w-full overflow-y-auto overflow-x-hidden outline-none",tabindex:"-1","aria-labelledby":"modalStartGameLabel","aria-hidden":"true","data-te-backdrop":"static"},fe={"data-te-modal-dialog-ref":"",class:"pointer-events-none relative flex min-h-[calc(100%-1rem)] w-auto translate-y-[-50px] items-center opacity-0 transition-all duration-300 ease-in-out min-[576px]:mx-auto min-[576px]:mt-7 min-[576px]:min-h-[calc(100%-3.5rem)] min-[576px]:max-w-[500px] p-[16px]"},xe={class:"pointer-events-auto relative flex w-full flex-col rounded-[50px] border-none bg-white bg-clip-padding text-current shadow-lg outline-none"},ge={class:"relative flex-auto p-4 pt-[50px]","data-te-modal-body-ref":""},be={key:0,class:"text-white uppercase"},ve={key:1,class:"text-white uppercase"},_e={key:2,class:"text-white uppercase"},we={key:0,class:"absolute top-[-18px] left-0 md:w-[140px] w-[90px]"},ke=["src"],ye={key:1,class:"absolute top-[-18px] right-0 md:w-[140px] w-[90px]"},Ee=["src"],Se={class:"mb-5 flex flex-col items-center"},Ce=["src"],Ge=["src"],De=["src"],Te=["src"],Le={class:"font-bold text-[12px] md:text-[14px]"},Re={key:0,class:"md:text-[18px] text-[14px] text-rose-500"},Ae={key:1},Me={key:2,class:"text-pink-500"},Ie=(0,l._)("br",null,null,-1),Ue={key:3,class:"text-pink-500"},Ve=(0,l._)("br",null,null,-1),Oe={key:2,class:"flex flex-col items-start text-left bg-color-4 text-[18px] p-[16px] rounded-xl max-h-[200px] overflow-auto"},je=(0,l._)("div",{class:"text-color-5 font-bold flex md:text-[16px] text-[14px]"}," Thống kê: ",-1),qe={class:"pl-[16px]"},ze={class:"flex items-center"},$e=["src"],Ne={class:"md:text-[16px] text-[14px]"},Ke=(0,l._)("strong",null,"- Tổng thời gian:",-1),Be={key:3,class:"flex flex-col items-start text-left bg-color-4 text-[18px] p-[16px] rounded-xl"},He={class:"text-color-5 font-bold flex md:text-[16px] text-[14px]"},We={key:0,class:"text-color-5 ml-1"},Ye={key:0,class:"md:text-[16px] text-[14px]"},Pe={class:"flex justify-center mt-5"},Fe=(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"3",stroke:"#ffffff",class:"md:w-6 md:h-6 w-4 h-4 md:mr-4 mr-2"},[(0,l._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 15L3 9m0 0l6-6M3 9h12a6 6 0 010 12h-3"})],-1),Ze=(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"3",stroke:"#ffffff",class:"md:w-6 md:h-6 w-4 h-4 md:mr-4 mr-2"},[(0,l._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.348a1.125 1.125 0 010 1.971l-11.54 6.347a1.125 1.125 0 01-1.667-.985V5.653z"})],-1);function Je(e,t,a,n,r,s){return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",null,[(0,l._)("div",Z,[(0,l._)("div",J,[(0,l._)("button",{class:"btn-default btn-default--blue flex-shrink-0 mr-3",onClick:t[0]||(t[0]=(...e)=>s.exitGame&&s.exitGame(...e))},Q)]),(0,l._)("div",ee,[te,(0,l._)("div",ae,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(r.findElement,((e,t)=>((0,l.wg)(),(0,l.iD)("div",{key:t,class:"mr-5"},[(0,l._)("span",ne,(0,x.zw)(e.valueFind),1),(0,l.Uk)(" x "),(0,l._)("span",{class:(0,x.C_)(["md:text-[22px] text-[14px]",{"text-emerald-500":e.found==e.quantity}])},(0,x.zw)(e.found)+"/"+(0,x.zw)(e.quantity),3)])))),128))])]),(0,l._)("div",le,[(0,l._)("div",re,[(0,l._)("img",{src:r.images.icon_flag,class:"md:w-[20px] w-[10px] mr-3"},null,8,se),(0,l.Uk)(),(0,l._)("span",oe,(0,x.zw)(r.round)+" / "+(0,x.zw)(r.totalRound),1)]),(0,l._)("div",ie,[(0,l._)("img",{src:r.images.icon_hourglass,class:"md:w-[20px] w-[10px] mr-3"},null,8,me),(0,l.Uk)(),(0,l._)("span",de,(0,x.zw)(r.timer||r.timerExpired?`${r.timer}s`:"∞"),1)])])]),(0,l._)("div",ce,[(0,l._)("div",ue,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(r.randomElement,((e,t)=>((0,l.wg)(),(0,l.iD)("div",{key:t,style:(0,x.j5)({top:e.top,left:e.left,border:s.isItemSelected(t)?"2px solid red":""}),class:"absolute px-[10px] md:text-[40px] text-[20px] cursor-pointer rounded-md",onClick:a=>s.checkResult(e.value,t)},(0,x.zw)(e.value),13,he)))),128))])])]),(0,l._)("div",pe,[(0,l._)("div",fe,[(0,l._)("div",xe,[(0,l._)("div",ge,[(0,l._)("div",null,[(0,l._)("div",{class:(0,x.C_)(["md:text-[24px] text-[16px] font-bold mb-5 py-[10px] px-[20px] md:rounded-[20px] rounded-[15px] inline-flex absolute md:top-[-25px] top-[-20px] left-[50%] translate-x-[-50%]",{"bg-rose-500":r.isEndGame,"bg-orange-400":!r.timerExpired,"bg-gray-400":r.timerExpired}])},[r.isEndGame?((0,l.wg)(),(0,l.iD)("span",be," Chiến thắng ")):r.timerExpired?((0,l.wg)(),(0,l.iD)("span",ve," Hết thời gian ")):((0,l.wg)(),(0,l.iD)("span",_e,"Vòng "+(0,x.zw)(r.round)+" / "+(0,x.zw)(r.totalRound),1))],2),r.isEndGame?((0,l.wg)(),(0,l.iD)("div",we,[(0,l._)("img",{src:r.images.winner_left},null,8,ke)])):(0,l.kq)("",!0),r.isEndGame?((0,l.wg)(),(0,l.iD)("div",ye,[(0,l._)("img",{src:r.images.winner_right},null,8,Ee)])):(0,l.kq)("",!0),(0,l._)("div",Se,[r.isEndGame?((0,l.wg)(),(0,l.iD)("img",{key:0,class:"md:w-[160px] w-[120px]",src:r.images.medal[4]},null,8,Ce)):r.timerExpired?((0,l.wg)(),(0,l.iD)("img",{key:1,class:"md:w-[80px] w-[60px]",src:r.images.animals.lose.cat},null,8,Ge)):r.round>1?((0,l.wg)(),(0,l.iD)("img",{key:2,class:(0,x.C_)({"md:w-[50px] w-[30px]":r.round<=4,"md:w-[80px] w-[60px]":r.round>4}),src:r.round<5?r.images.medal[r.round-2]:r.images.medal[3]},null,10,De)):((0,l.wg)(),(0,l.iD)("img",{key:3,class:"md:w-[80px] w-[60px]",src:r.images.animals.start[s.randomAnimal]},null,8,Te)),(0,l._)("div",Le,[r.isEndGame?((0,l.wg)(),(0,l.iD)("span",Re," Xin chúc mừng! bạn đã thắng trò chơi. ")):r.timerExpired?((0,l.wg)(),(0,l.iD)("span",Ae," Rất tiếc! bạn thua mất rồi ")):r.round>1?((0,l.wg)(),(0,l.iD)("span",Me,[(0,l.Uk)("Xin chúc mừng! bạn đã vượt qua vòng "+(0,x.zw)(r.round-1),1),Ie,(0,l.Uk)("Với thời gian là "+(0,x.zw)(r.timerCount)+" giây",1)])):((0,l.wg)(),(0,l.iD)("span",Ue,[(0,l.Uk)("Xin chào! hãy cố gắng chiến thắng nhé"),Ve,(0,l.Uk)("Nhấn bắt đầu để chơi game")]))])]),r.isEndGame?((0,l.wg)(),(0,l.iD)("div",Oe,[je,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(r.timerCountList,((e,t)=>((0,l.wg)(),(0,l.iD)("div",{key:e,class:"md:text-[16px] text-[14px]"},[(0,l._)("strong",null,"- Vòng "+(0,x.zw)(t+1),1),(0,l._)("div",qe,[(0,l._)("div",ze,[(0,l.Uk)(" + Huy hiệu đạt được: "),(0,l._)("img",{class:(0,x.C_)(t<3?"w-[15px]":"w-[20px]"),src:t<4?r.images.medal[t]:r.images.medal[3]},null,10,$e)]),(0,l.Uk)(" + Thời gian chơi: "+(0,x.zw)(e)+" giây ",1)])])))),128)),(0,l._)("div",Ne,[Ke,(0,l.Uk)(" "+(0,x.zw)(s.totalTimerCount)+" giây ",1)])])):r.timerExpired?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",Be,[(0,l._)("div",null,[(0,l._)("div",He,[(0,l.Uk)(" Nhiệm vụ "),r.round>1?((0,l.wg)(),(0,l.iD)("span",We,"tiếp theo")):(0,l.kq)("",!0),(0,l.Uk)(": ")]),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(r.findElement,((e,t)=>((0,l.wg)(),(0,l.iD)("div",{key:t,class:"mr-5 md:text-[16px] text-[14px]"},[(0,l.Uk)(" + Tìm "+(0,x.zw)(e.quantity)+" chữ ",1),(0,l._)("strong",null,(0,x.zw)(e.valueFind),1)])))),128))]),r.timer?((0,l.wg)(),(0,l.iD)("div",Ye,[(0,l.Uk)(" + Trong thời gian "),(0,l._)("strong",null,(0,x.zw)(r.timer),1),(0,l.Uk)(" giây ")])):(0,l.kq)("",!0)]))]),(0,l._)("div",Pe,[(0,l._)("button",{class:"btn-default btn-default--blue flex-shrink-0 mr-3 md:text-[16px] text-[12px]",onClick:t[1]||(t[1]=(...e)=>s.exitGame&&s.exitGame(...e))}," Thoát "),r.timerExpired||r.isEndGame?((0,l.wg)(),(0,l.iD)("button",{key:0,class:"btn-default btn-default--purple flex-shrink-0 flex items-center md:text-[16px] text-[12px]",onClick:t[2]||(t[2]=(...e)=>s.resetGame&&s.resetGame(...e))},[Fe,(0,l.Uk)(" Chơi lại từ đầu ")])):((0,l.wg)(),(0,l.iD)("button",{key:1,class:"btn-default btn-default--purple flex-shrink-0 flex items-center md:text-[16px] text-[12px]",onClick:t[3]||(t[3]=(...e)=>s.startGame&&s.startGame(...e))},[Ze,(0,l.Uk)(" Bắt đầu ")]))])])])])])],64)}var Xe=a.p+"img/medal_round_1.5f8a6bcb.svg",Qe=a.p+"img/medal_round_2.9fe79372.svg",et=a.p+"img/medal_round_3.47d662b5.svg",tt=a.p+"img/medal_round_4.e291951c.svg",at=a.p+"img/winner_left.11d49600.svg",nt=a.p+"img/winner_right.2a41e09a.svg",lt=a.p+"img/icon_hourglass.9ecd5a54.svg",rt=a.p+"img/icon_flag.e3c13c31.svg",st=a.p+"img/icon_hand.5c1e98d2.svg",ot=a.p+"img/cup.1faa0e5c.svg",it=a.p+"img/dog.638779f0.svg",mt=a.p+"img/cat.1a0c56fe.svg",dt=a.p+"img/buffalo.fa3d56c1.svg",ct=a.p+"img/hedgehog.9a0a2f52.svg",ut=(a.p,a.p,a.p,a.p+"img/rabbit.35eefc14.svg"),ht={data(){return{images:{winner_left:at,winner_right:nt,icon_hourglass:lt,icon_flag:rt,icon_hand:st,medal:[Xe,Qe,et,tt,ot],animals:{start:[it,dt,ct,ut],lose:{cat:mt}}},gameData:{},sampleElement:[],randomElement:[],resultElement:[],findElement:[],findTotal:[],round:1,isRhyme:!1,totalRound:1,timer:null,timerCount:0,timerCountList:[],timerExpired:!1,gameStart:!1,intervalId:null,modalStartGame:null,modalEl:null,isResetGame:!1,isEndGame:!1}},computed:{roundData(){return this.gameData.roundList[this.round-1]},randomAnimal(){return Math.floor(4*Math.random())+0},totalTimerCount(){return this.timerCountList.reduce(((e,t)=>e+t),0)}},async mounted(){let e=await this.getData();e&&(this.modalEl=document.getElementById("modalStartGame"),this.modalStartGame=new B.u_(this.modalEl),(0,B.vN)({Modal:B.u_,Ripple:B.HW}),this.createGame()),history.replaceState(null,null,document.URL),window.addEventListener("popstate",(function(e){let t=document.querySelector("[data-te-backdrop-show]");t&&t.remove()}))},methods:{getData(){let e=this.$route?.params?.id;try{const t=localStorage.getItem(W.LOCAL_STORAGE_KEY.GAME_PICK_LETTER+e)||null;return t?(this.gameData=JSON.parse(t),this.gameData.roundList=this.gameData.roundList.map((e=>({...e,sampleElement:e.sampleElement.split(","),challengeElement:e.challengeElement.map((e=>({...e,quantity:parseInt(e.quantity)})))}))),this.totalRound=this.gameData.roundList.length,!0):(this.$notify({text:"Dữ liệu game không tồn tại!",type:"error"}),this.$router.push({name:"game"}))}catch(t){return this.$notify({text:"Dữ liệu game không tồn tại!",type:"error"}),this.$router.push({name:"game"})}},createGame(e=1){this.round=e,this.resultElement=[],this.sampleElement=this.roundData.sampleElement,this.challengeElement=this.roundData.challengeElement,this.timer=this.roundData.timer,this.isRhyme=this.roundData.isRhyme;let t=this.challengeElement.reduce(((e,t)=>(this.isRhyme?t.isTrue&&(t.valueFind=this.findClosestValue(this.sampleElement,t.value),t.found=0,e.output.push(t),e.total+=t.quantity):this.sampleElement.includes(t.value)&&(t.found=0,t.valueFind=t.value,e.output.push(t),e.total+=t.quantity),e)),{output:[],total:0});this.findElement=t.output,this.findTotal=t.total,this.prepareData(),this.showModalStartGame()},resetGame(){this.hideModalStartGame(),clearInterval(this.intervalId),this.isResetGame=!0,this.modalEl.addEventListener("hidden.te.modal",(e=>{this.isResetGame&&(this.timerExpired=!1,this.isResetGame=!1,this.isEndGame=!1,this.timerCount=0,this.createGame())}))},startTimer(){this.timerCount=0,this.intervalId=setInterval((()=>{this.timerCount++,this.timer&&(this.timer--,this.timer<=0&&(this.timerExpired=!0,this.gameStart=!1,clearInterval(this.intervalId),this.showModalStartGame()))}),1e3)},startGame(){this.timerExpired=!1,this.gameStart=!0,this.startTimer(),this.hideModalStartGame()},exitGame(){clearInterval(this.intervalId),this.hideModalStartGame(),this.$router.push({name:"game"})},findClosestValue(e,t){let a="",n=0;for(let l=0;l<e.length;l++){const r=this.removeTextAccent(e[l]),s=this.calculateSimilarity(r,this.removeTextAccent(t));s>n&&(a=r,n=s)}return a},calculateSimilarity(e,t){const a=e.length,n=t.length,l=Array.from(Array(a+1),(()=>Array(n+1).fill(0)));for(let r=1;r<=a;r++)for(let a=1;a<=n;a++)e[r-1]===t[a-1]?l[r][a]=l[r-1][a-1]+1:l[r][a]=Math.max(l[r-1][a],l[r][a-1]);return l[a][n]},removeTextAccent(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/đ/g,"d").replace(/Đ/g,"D").toLowerCase()},isItemSelected(e){return this.resultElement.includes(e)},showModalStartGame(){this.modalStartGame.show()},hideModalStartGame(){this.modalStartGame.hide()},checkResult(e,t){if(!this.gameStart)return void this.$notify({text:"Vui lòng nhấn nút bắt đầu!",type:"error"});const a=this.findElement.map((e=>e.value));a.includes(e)&&!this.resultElement.includes(t)&&(this.resultElement.push(t),this.findElement=this.findElement.reduce(((t,a)=>(a.value==e&&(a.found=a.found+1),t.push(a),t)),[])),this.resultElement.length==this.findTotal&&(this.gameStart=!1,clearInterval(this.intervalId),this.timerCountList.push(this.timerCount),this.round+1<=this.gameData.roundList.length?this.createGame(this.round+1):(this.isEndGame=!0,this.showModalStartGame()))},prepareData(){const e=95,t=95,a=20,n=1e3,l=this.challengeElement.flatMap((e=>Array(parseInt(e.quantity)).fill(e.value))),r=l.map((()=>({x:Math.random()*e,y:Math.random()*t})));for(let s=0;s<n;s++){let e=0;for(let t=0;t<l.length;t++){const n=r[t];let s=0,o=0;for(let e=0;e<l.length;e++)if(t!==e){const t=r[e],l=t.x-n.x,i=t.y-n.y,m=Math.sqrt(l*l+i*i),d=l/m,c=i/m;if(m<a){const e=a-m;s-=e*d,o-=e*c}}n.x+=s,n.y+=o,e=Math.max(e,Math.abs(s),Math.abs(o))}if(e<.1)break}this.randomElement=l.map(((a,n)=>{let{x:l,y:s}=r[n];return l=Math.max(0,Math.min(l,e)),s=Math.max(0,Math.min(s,t)),l=l*e/100,s=s*t/100,{value:a,top:s+"%",left:l+"%"}}))}}};const pt=(0,i.Z)(ht,[["render",Je]]);var ft=pt;const xt={class:"flex justify-center"},gt={class:"flex flex-col items-center py-[60px] px-[16px] md:w-[750px] w-full"},bt=(0,l._)("h1",{class:"md:text-[30px] text-[20px] font-bold mb-5"}," Thêm mới trò chơi ",-1),vt={class:"w-full"},_t={class:"mb-5"},wt=(0,l._)("label",{class:"flex items-center text-left md:text-[16px] text-[14px] font-bold mb-2",for:"game_name"},[(0,l.Uk)("Tên trò chơi"),(0,l._)("p",{class:"text-red-500"},"*")],-1),kt={class:"text-left text-color-5 md:text-[20px] text-[16px] font-bold mb-[16px]"},yt=["onClick"],Et=(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"3",stroke:"red",class:"w-7 h-7"},[(0,l._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1),St=[Et],Ct={class:"mb-[24px]"},Gt={class:"mb-2 text-left"},Dt=["for"],Tt=(0,l._)("p",{class:"text-[9px] md:text-[12px]"}," Để trống nếu muốn không giới hạn thời gian ",-1),Lt={class:"mb-[24px]"},Rt={class:"flex items-center"},At=["for"],Mt=(0,l._)("p",{class:"text-[9px] md:text-[12px] text-left"}," Check vào nếu bạn muốn tìm theo vần. ",-1),It={class:"mb-[24px]"},Ut={class:"mb-2 text-left"},Vt=["for"],Ot={key:0,class:"mr-1"},jt={key:1,class:"mr-1"},qt=(0,l._)("p",{class:"text-red-500"},"*",-1),zt=(0,l._)("p",{class:"text-[9px] md:text-[12px]"}," Nếu có nhiều, vui lòng ngăn cách bởi dấu phẩy ",-1),$t={class:"text-left mb-3"},Nt=(0,l._)("label",{class:"flex items-center font-bold md:text-[16px] text-[14px]",for:"username"},[(0,l.Uk)("Từ thử thách"),(0,l._)("p",{class:"text-red-500"},"*")],-1),Kt={key:0,class:"text-[9px] md:text-[12px] text-pink-500"},Bt=(0,l._)("br",null,null,-1),Ht=(0,l._)("br",null,null,-1),Wt={key:1,class:"text-[9px] md:text-[12px] text-pink-500"},Yt=(0,l._)("br",null,null,-1),Pt={class:"md:w-[10%] w-[25%]"},Ft=["for"],Zt={class:"flex items-center md:h-[48px] h-[38px]"},Jt={class:"md:w-[75%] w-[60%] flex md:flex-row flex-col"},Xt={class:"md:w-[70%] w-[100%] md:mr-[5%] md:mb-0 mb-[8px]"},Qt=["for"],ea=(0,l._)("p",{class:"text-red-500"},"*",-1),ta={class:"md:w-[25%] w-[100%]"},aa=["for"],na=(0,l._)("p",{class:"text-red-500"},"*",-1),la={class:"w-[10%] md:pt-[35px] pt-[26px]"},ra=["onClick"],sa=(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[(0,l._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1),oa=[sa],ia=["onClick"],ma=(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"3",stroke:"currentColor",class:"md:w-6 md:h-6 w-4 h-4"},[(0,l._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})],-1),da=(0,l._)("span",{class:"md:ml-4 ml-2 md:text-[16px] text-[12px]"},"Thêm thử thách",-1),ca=[ma,da],ua={class:"bg-color-4 rounded-xl p-[8px]"},ha=(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"3",stroke:"currentColor",class:"md:w-6 md:h-6 w-4 h-4"},[(0,l._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})],-1),pa=(0,l._)("span",{class:"md:ml-4 ml-2 md:text-[16px] text-[12px]"},"Thêm vòng chơi",-1),fa=[ha,pa],xa={class:"flex justify-center mt-6"},ga=(0,l._)("button",{class:"btn-default btn-default--purple w-[100px] flex-shrink-0 md:text-[16px] text-[12px]",type:"submit"}," Lưu lại ",-1);function ba(e,t,a,n,r,s){const o=(0,l.up)("Field"),i=(0,l.up)("ErrorMessage"),m=(0,l.up)("Form");return(0,l.wg)(),(0,l.iD)("div",xt,[(0,l._)("div",gt,[bt,(0,l._)("div",vt,[(0,l.Wm)(m,{onSubmit:s.onSubmit},{default:(0,l.w5)((()=>[(0,l._)("div",_t,[wt,(0,l.Wm)(o,{modelValue:r.gameData.name,"onUpdate:modelValue":t[0]||(t[0]=e=>r.gameData.name=e),type:"text",name:"game_name",placeholder:"Nhập tên gợi nhớ cho trò chơi",rules:"required|stringSpace|max:50",class:"form-default w-[100%] md:p-[10px] p-[5px] text-[12px] md:text-[14px] rounded-xl"},null,8,["modelValue"]),(0,l.Wm)(i,{class:"text-red-500 text-[11px] flex",name:"game_name"})]),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(r.gameData.roundList,((e,t)=>((0,l.wg)(),(0,l.iD)("div",{key:t,class:"bg-color-4 rounded-xl p-[8px] mb-4 relative"},[(0,l._)("h4",kt," Vòng "+(0,x.zw)(t+1),1),s.shouldShowRemoveButton(r.gameData.roundList)?((0,l.wg)(),(0,l.iD)("button",{key:0,type:"button",class:"absolute top-1 right-1",onClick:e=>s.removeRound(t)},St,8,yt)):(0,l.kq)("",!0),(0,l._)("div",null,[(0,l._)("div",Ct,[(0,l._)("div",Gt,[(0,l._)("label",{class:"block font-bold md:text-[16px] text-[14px]",for:"timer["+t+"]"},"Thời gian (giây)",8,Dt),Tt]),(0,l.Wm)(o,{modelValue:e.timer,"onUpdate:modelValue":t=>e.timer=t,type:"number",placeholder:"10",name:"timer["+t+"]",rules:"positiveNumber|min_value:1|max_value:600",class:"form-default w-[100%] md:p-[10px] p-[5px] text-[12px] md:text-[14px] rounded-xl"},null,8,["modelValue","onUpdate:modelValue","name"]),(0,l.Wm)(i,{class:"text-red-500 text-[11px] flex",name:"timer["+t+"]"},null,8,["name"])]),(0,l._)("div",Lt,[(0,l._)("div",null,[(0,l._)("div",Rt,[(0,l.Wm)(o,{id:"is_rhyme["+t+"]",modelValue:e.isRhyme,"onUpdate:modelValue":t=>e.isRhyme=t,name:"is_rhyme["+t+"]",type:"checkbox",value:!0,class:"relative float-left mr-[6px] mt-[0.15rem] h-[1.125rem] w-[1.125rem] appearance-none rounded-[0.25rem] border-[0.125rem] border-solid border-color-1 outline-none before:pointer-events-none before:absolute before:h-[0.875rem] before:w-[0.875rem] before:scale-0 before:rounded-full before:bg-transparent before:opacity-0 before:shadow-[0px_0px_0px_13px_transparent] before:content-[''] checked:border-primary checked:bg-primary checked:before:opacity-[0.16] checked:after:absolute checked:after:-mt-px checked:after:ml-[0.25rem] checked:after:block checked:after:h-[0.8125rem] checked:after:w-[0.375rem] checked:after:rotate-45 checked:after:border-[0.125rem] checked:after:border-l-0 checked:after:border-t-0 checked:after:border-solid checked:after:border-white checked:after:bg-transparent checked:after:content-[''] hover:cursor-pointer hover:before:opacity-[0.04] hover:before:shadow-[0px_0px_0px_13px_rgba(0,0,0,0.6)] focus:shadow-none focus:transition-[border-color_0.2s] focus:before:scale-100 focus:before:opacity-[0.12] focus:before:shadow-[0px_0px_0px_13px_rgba(0,0,0,0.6)] focus:before:transition-[box-shadow_0.2s,transform_0.2s] focus:after:absolute focus:after:z-[1] focus:after:block focus:after:h-[0.875rem] focus:after:w-[0.875rem] focus:after:rounded-[0.125rem] focus:after:content-[''] checked:focus:before:scale-100 checked:focus:before:shadow-[0px_0px_0px_13px_#3b71ca] checked:focus:before:transition-[box-shadow_0.2s,transform_0.2s] checked:focus:after:-mt-px checked:focus:after:ml-[0.25rem] checked:focus:after:h-[0.8125rem] checked:focus:after:w-[0.375rem] checked:focus:after:rotate-45 checked:focus:after:rounded-none checked:focus:after:border-[0.125rem] checked:focus:after:border-l-0 checked:focus:after:border-t-0 checked:focus:after:border-solid checked:focus:after:border-white checked:focus:after:bg-transparent",onChange:t=>s.checkSampleElement(e)},null,8,["id","modelValue","onUpdate:modelValue","name","onChange"]),(0,l._)("label",{for:"is_rhyme["+t+"]",class:"hover:cursor-pointer font-bold md:text-[16px] text-[14px]"},"Tìm theo vần",8,At)]),Mt]),(0,l.Wm)(i,{class:"text-red-500 text-[11px] flex",name:"is_rhyme["+t+"]"},null,8,["name"])]),(0,l._)("div",It,[(0,l._)("div",Ut,[(0,l._)("label",{class:"flex items-center font-bold md:text-[16px] text-[14px]",for:"sample_element["+t+"]"},[e.isRhyme?((0,l.wg)(),(0,l.iD)("span",Ot,"Vần")):((0,l.wg)(),(0,l.iD)("span",jt,"Từ")),(0,l.Uk)(" cần tìm"),qt],8,Vt),zt]),(0,l.Wm)(o,{modelValue:e.sampleElement,"onUpdate:modelValue":t=>e.sampleElement=t,type:"text",placeholder:e.isRhyme?"ương,oàng":"a,b,c",name:"sample_element["+t+"]",rules:"required|sampleElement|stringSpace|max:250",class:"form-default w-[100%] md:p-[10px] p-[5px] text-[12px] md:text-[14px] rounded-xl",onInput:t=>s.checkSampleElement(e)},null,8,["modelValue","onUpdate:modelValue","placeholder","name","onInput"]),(0,l.Wm)(i,{class:"text-red-500 text-[11px] flex",name:"sample_element["+t+"]"},null,8,["name"])]),(0,l._)("div",null,[(0,l._)("div",$t,[Nt,e.isRhyme?((0,l.wg)(),(0,l.iD)("p",Kt,[(0,l.Uk)(" Số từ thử thách tổi thiểu phải chứa đủ số vần cần tìm."),Bt,(0,l.Uk)(' Vì xác định từ có vần đúng là phức tạp, nên bạn sẽ tự xác định từ nào có vần đúng bằng cách check vào mục "Từ đúng".'),Ht])):((0,l.wg)(),(0,l.iD)("p",Wt,[(0,l.Uk)(" Số từ thử thách tối thiểu phải bằng số từ cần tìm."),Yt,(0,l.Uk)(' Khi bạn nhập từ có trong mục "Từ cần tìm" thì hệ thống sẽ tự động check phần "Từ đúng". ')]))]),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.challengeElement,((a,n)=>((0,l.wg)(),(0,l.iD)("div",{key:n,class:"flex justify-between mb-2 border-b border-dashed pb-[16px] border-slate-400"},[(0,l._)("div",Pt,[(0,l._)("label",{class:"flex items-center text-left text-[12px] mb-1",for:"challenge_value["+t+"]["+n+"]"},"Từ đúng",8,Ft),(0,l._)("div",Zt,[(0,l.Wm)(o,{id:"is_true["+t+"]["+n+"]",modelValue:a.isTrue,"onUpdate:modelValue":e=>a.isTrue=e,name:"is_true["+t+"]["+n+"]",type:"checkbox",value:!0,disabled:!e.isRhyme&&"disabled",class:"relative float-left disabled:bg-gray-400 mr-[6px] mt-[0.15rem] h-[1.125rem] w-[1.125rem] appearance-none rounded-[0.25rem] border-[0.125rem] border-solid border-color-1 outline-none before:pointer-events-none before:absolute before:h-[0.875rem] before:w-[0.875rem] before:scale-0 before:rounded-full before:bg-transparent before:opacity-0 before:shadow-[0px_0px_0px_13px_transparent] before:content-[''] checked:border-primary checked:bg-primary checked:before:opacity-[0.16] checked:after:absolute checked:after:-mt-px checked:after:ml-[0.25rem] checked:after:block checked:after:h-[0.8125rem] checked:after:w-[0.375rem] checked:after:rotate-45 checked:after:border-[0.125rem] checked:after:border-l-0 checked:after:border-t-0 checked:after:border-solid checked:after:border-white checked:after:bg-transparent checked:after:content-[''] hover:cursor-pointer hover:before:opacity-[0.04] hover:before:shadow-[0px_0px_0px_13px_rgba(0,0,0,0.6)] focus:shadow-none focus:transition-[border-color_0.2s] focus:before:scale-100 focus:before:opacity-[0.12] focus:before:shadow-[0px_0px_0px_13px_rgba(0,0,0,0.6)] focus:before:transition-[box-shadow_0.2s,transform_0.2s] focus:after:absolute focus:after:z-[1] focus:after:block focus:after:h-[0.875rem] focus:after:w-[0.875rem] focus:after:rounded-[0.125rem] focus:after:content-[''] checked:focus:before:scale-100 checked:focus:before:shadow-[0px_0px_0px_13px_#3b71ca] checked:focus:before:transition-[box-shadow_0.2s,transform_0.2s] checked:focus:after:-mt-px checked:focus:after:ml-[0.25rem] checked:focus:after:h-[0.8125rem] checked:focus:after:w-[0.375rem] checked:focus:after:rotate-45 checked:focus:after:rounded-none checked:focus:after:border-[0.125rem] checked:focus:after:border-l-0 checked:focus:after:border-t-0 checked:focus:after:border-solid checked:focus:after:border-white checked:focus:after:bg-transparent"},null,8,["id","modelValue","onUpdate:modelValue","name","disabled"])])]),(0,l._)("div",Jt,[(0,l._)("div",Xt,[(0,l._)("label",{class:"flex items-center text-left text-[12px] mb-1",for:"challenge_value["+t+"]["+n+"]"},[(0,l.Uk)("Từ"),ea],8,Qt),(0,l.Wm)(o,{modelValue:a.value,"onUpdate:modelValue":e=>a.value=e,type:"text",placeholder:e.isRhyme?"Phương":"a",name:"challenge_value["+t+"]["+n+"]",rules:`required|stringSpace|max:250|challengeDuplicate:${s.convertChallengeElementToString(e.challengeElement)}`,class:"form-default w-[100%] md:p-[10px] p-[5px] text-[12px] md:text-[14px] rounded-xl",onInput:t=>s.checkChallengeValue(a,e.sampleElement,e.isRhyme)},null,8,["modelValue","onUpdate:modelValue","placeholder","name","rules","onInput"]),(0,l.Wm)(i,{class:"text-red-500 text-[11px] flex",name:"challenge_value["+t+"]["+n+"]"},null,8,["name"])]),(0,l._)("div",ta,[(0,l._)("label",{class:"flex items-center text-left text-[12px] mb-1",for:"challenge_quantity["+t+"]["+n+"]"},[(0,l.Uk)("Số lượng"),na],8,aa),(0,l.Wm)(o,{modelValue:a.quantity,"onUpdate:modelValue":e=>a.quantity=e,type:"number",placeholder:"1",name:"challenge_quantity["+t+"]["+n+"]",rules:"required|positiveNumber|min_value:1|max_value:20",class:"form-default w-[100%] md:p-[10px] p-[5px] text-[12px] md:text-[14px] rounded-xl"},null,8,["modelValue","onUpdate:modelValue","name"]),(0,l.Wm)(i,{class:"text-red-500 text-[11px] text-left flex",name:"challenge_quantity["+t+"]["+n+"]"},null,8,["name"])])]),(0,l._)("div",la,[s.shouldShowRemoveButton(e.challengeElement)?((0,l.wg)(),(0,l.iD)("div",{key:0,class:"cursor-pointer",onClick:t=>s.removeElement(e.challengeElement,n)},oa,8,ra)):(0,l.kq)("",!0)])])))),128)),(0,l._)("button",{type:"button",class:"btn-default w-[100%] mt-[16px]",onClick:t=>s.addElement(e.challengeElement)},ca,8,ia)])])])))),128)),(0,l._)("div",ua,[(0,l._)("button",{type:"button",class:"btn-default w-[100%]",onClick:t[1]||(t[1]=e=>s.addRound())},fa)]),(0,l._)("div",xa,[(0,l._)("button",{class:"btn-default btn-default--blue mr-4 flex-shrink-0 md:text-[16px] text-[12px]",type:"button",onClick:t[2]||(t[2]=t=>e.$router.push({name:"game"}))}," Trở về "),ga])])),_:1},8,["onSubmit"])])])])}var va=a(5708),_a=a(579),wa={components:{Form:va.l0,Field:va.gN,ErrorMessage:va.Bc},data(){return{gameData:{name:"",roundList:[{isRhyme:!1,timer:null,sampleElement:"",challengeElement:[{isTrue:!1,value:"",quantity:null}]}]},gameId:null}},mounted(){this.checkEdit(),(0,_a.NC)("vi",{fields:{game_name:{required:"Vui lòng nhập tên trò chơi"},"sample_element[1]":{required:"Vui lòng nhập tên trò chơi"}}})},methods:{checkEdit(){const e=this.$route.name;if("game_edit"==e){if(this.gameId=this.$route?.params?.id,!this.gameId)return this.$notify({text:"Dữ liệu game không tồn tại!",type:"error"}),this.$router.push({name:"game"});try{const e=localStorage.getItem(W.LOCAL_STORAGE_KEY.GAME_PICK_LETTER+this.gameId)||null;return e?(this.gameData=JSON.parse(e),!0):(this.$notify({text:"Dữ liệu game không tồn tại!",type:"error"}),this.$router.push({name:"game"}))}catch(t){return this.$notify({text:"Dữ liệu game không tồn tại!",type:"error"}),this.$router.push({name:"game"})}}},onSubmit(){this.createGame()},createGame(){const e=this.validateRoundList(this.gameData.roundList);if(!e.result){let t="Số từ thử thách tối thiểu phải bằng số từ cần tìm. Vui lòng kiểm tra lại!";return e.isRhyme&&(t="Số từ thử thách tổi thiểu phải chứa đủ số vần cần tìm. Vui lòng kiểm tra lại!"),this.$notify({text:t,type:"error"}),!1}const t=W.LOCAL_STORAGE_KEY.GAME_PICK_LETTER+(this.gameId?this.gameId:this.generateId());localStorage.setItem(t,JSON.stringify(this.gameData)),this.$router.push({name:"game"})},addElement(e){e.push({isTrue:!1,value:"",quantity:null})},removeElement(e,t){e.length>1&&e.splice(t,1)},shouldShowRemoveButton(e){return e.length>1},addRound(){this.gameData.roundList.push({isRhyme:!1,timer:null,sampleElement:"",challengeElement:[{isTrue:!1,value:"",quantity:null}]})},removeRound(e){this.gameData.roundList.length>1&&this.gameData.roundList.splice(e,1)},generateId(){const e="abcdefghijklmnopqrstuvwxyz0123456789";let t="";for(let a=0;a<8;a++){const a=Math.floor(Math.random()*e.length);t+=e.charAt(a)}return t},checkChallengeValue(e,t,a){if(!a&&t){const a=t.split(",");a.includes(e.value)?e.isTrue=!0:e.isTrue=!1}},checkSampleElement(e){if(!e.isRhyme&&e.sampleElement){const t=e.sampleElement.split(",");e.challengeElement.forEach((e=>{e.value&&t.includes(e.value)?e.isTrue=!0:e.isTrue=!1}))}},convertChallengeElementToString(e){return e.map((e=>e.value)).join("-")},validateRoundList(e){for(let t=0;t<e.length;t++){const a=e[t],n=this.isValidChallengeElement(a.sampleElement,a.challengeElement,a.isRhyme);if(!n)return{result:!1,isRhyme:a.isRhyme}}return{result:!0,isRhyme:!1}},isValidChallengeElement(e,t,a){const n=e.split(","),l=t.map((e=>e.value));if(a){const e=t.reduce(((e,t)=>!0===t.isTrue?e+1:e),0);return n.length===e}return n.every((e=>l.includes(e)))}}};const ka=(0,i.Z)(wa,[["render",ba]]);var ya=ka;va.l0,va.gN,va.Bc,(0,s.nv)("authStore",["setUserAuth"]);var Ea=a(6704);const Sa=()=>({userAuth:{}}),Ca={getUserAuth(e){return e.userAuth}},Ga={async checkLogin({commit:e}){if(localStorage.getItem(W.LOCAL_STORAGE_KEY.ACCESS_USER))try{const t=JSON.parse((0,Ea.Jx)(localStorage.getItem(W.LOCAL_STORAGE_KEY.ACCESS_USER)));return void e("changeUserAuth",t)}catch{}},async setUserAuth({commit:e},t){return localStorage.setItem(W.LOCAL_STORAGE_KEY.ACCESS_USER,(0,Ea.cv)(JSON.stringify(t))),e("changeUserAuth",t),ja.push({name:"home"})}},Da={changeUserAuth(e,t){e.userAuth=t}};var Ta={namespaced:!0,state:Sa,getters:Ca,actions:Ga,mutations:Da};const La=()=>({title:""}),Ra={getTitle(e){return e.title}},Aa={setTitle({commit:e},t){e("setTitle",t)}},Ma={setTitle(e,t){e.title=t}};var Ia={namespaced:!0,state:La,getters:Ra,actions:Aa,mutations:Ma},Ua=(0,s.MT)({modules:{authStore:Ta,headerStore:Ia}});const Va=[{path:"/",name:"home",redirect:"/game",component:f,children:[{path:"/game",name:"game",component:F,meta:{title:"Game"}},{path:"/game/play/:id",name:"game_play",component:ft,meta:{title:"Game"}},{path:"/game/add",name:"game_add",component:ya,meta:{title:"Game Add"}},{path:"/game/edit/:id",name:"game_edit",component:ya,meta:{title:"Game edit"}}]},{path:"/:pathMatch(.*)*",redirect:"/"}],Oa=(0,c.p7)({history:(0,c.PO)(),routes:Va});var ja=Oa;Oa.beforeEach(((e,t,a)=>(Ua.dispatch("headerStore/setTitle",e.meta.title,{root:!0}),a()))),Oa.afterEach((e=>{(0,l.Y3)((()=>{document.title=`${e.meta.title} | Game Letter`||"Game Letter"}))}));var qa=a(3990);Object.keys(qa.ZP).forEach((e=>{(0,va.aH)(e,qa.ZP[e])})),(0,va.jQ)({generateMessage:(0,_a.NC)("vi",{messages:{required:"Bắt buộc nhập",min_value:"Chưa đạt số tối thiểu",max_value:"Vượt qua số tối đa",max:"Vượt qua số ký tự tối đa",min:"Chưa đạt số ký tự tổi thiểu"}})}),(0,va.aH)("sampleElement",(e=>!e||!e.length||(!!/^([^\s,]+(,\s*[^\s,]+)*)?$/.test(e)||"Từ cần tìm không hợp lệ"))),(0,va.aH)("positiveNumber",(e=>!e||!e.length||(!!/^\d*\.?\d+$/.test(e)||"Vui lòng nhập số dương"))),(0,va.aH)("stringSpace",(e=>!e||!e.length||(!!/^\S(.*\S)?$/.test(e)||"Không hợp lệ"))),(0,va.aH)("challengeDuplicate",((e,[t])=>{if(!e||!e.length||!t)return!0;let a=t.split("-");return a.indexOf(e)===a.lastIndexOf(e)||"Dữ liệu nhập vào đã bị trùng"}));var za=a(1037);const $a=(0,n.ri)(d);$a.use(ja),$a.use(Ua),$a.use(za.ZP),$a.mount("#app")}},t={};function a(n){var l=t[n];if(void 0!==l)return l.exports;var r=t[n]={exports:{}};return e[n].call(r.exports,r,r.exports,a),r.exports}a.m=e,function(){var e=[];a.O=function(t,n,l,r){if(!n){var s=1/0;for(d=0;d<e.length;d++){n=e[d][0],l=e[d][1],r=e[d][2];for(var o=!0,i=0;i<n.length;i++)(!1&r||s>=r)&&Object.keys(a.O).every((function(e){return a.O[e](n[i])}))?n.splice(i--,1):(o=!1,r<s&&(s=r));if(o){e.splice(d--,1);var m=l();void 0!==m&&(t=m)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[n,l,r]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){a.f={},a.e=function(e){return Promise.all(Object.keys(a.f).reduce((function(t,n){return a.f[n](e,t),t}),[]))}}(),function(){a.u=function(e){return"js/"+e+"."+{21:"08451c48",22:"81b00625"}[e]+".js"}}(),function(){a.miniCssF=function(e){}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="game_letters:";a.l=function(n,l,r,s){if(e[n])e[n].push(l);else{var o,i;if(void 0!==r)for(var m=document.getElementsByTagName("script"),d=0;d<m.length;d++){var c=m[d];if(c.getAttribute("src")==n||c.getAttribute("data-webpack")==t+r){o=c;break}}o||(i=!0,o=document.createElement("script"),o.charset="utf-8",o.timeout=120,a.nc&&o.setAttribute("nonce",a.nc),o.setAttribute("data-webpack",t+r),o.src=n),e[n]=[l];var u=function(t,a){o.onerror=o.onload=null,clearTimeout(h);var l=e[n];if(delete e[n],o.parentNode&&o.parentNode.removeChild(o),l&&l.forEach((function(e){return e(a)})),t)return t(a)},h=setTimeout(u.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=u.bind(null,o.onerror),o.onload=u.bind(null,o.onload),i&&document.head.appendChild(o)}}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p="/"}(),function(){var e={143:0};a.f.j=function(t,n){var l=a.o(e,t)?e[t]:void 0;if(0!==l)if(l)n.push(l[2]);else{var r=new Promise((function(a,n){l=e[t]=[a,n]}));n.push(l[2]=r);var s=a.p+a.u(t),o=new Error,i=function(n){if(a.o(e,t)&&(l=e[t],0!==l&&(e[t]=void 0),l)){var r=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.src;o.message="Loading chunk "+t+" failed.\n("+r+": "+s+")",o.name="ChunkLoadError",o.type=r,o.request=s,l[1](o)}};a.l(s,i,"chunk-"+t,t)}},a.O.j=function(t){return 0===e[t]};var t=function(t,n){var l,r,s=n[0],o=n[1],i=n[2],m=0;if(s.some((function(t){return 0!==e[t]}))){for(l in o)a.o(o,l)&&(a.m[l]=o[l]);if(i)var d=i(a)}for(t&&t(n);m<s.length;m++)r=s[m],a.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return a.O(d)},n=self["webpackChunkgame_letters"]=self["webpackChunkgame_letters"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=a.O(void 0,[998],(function(){return a(7098)}));n=a.O(n)})();
//# sourceMappingURL=app.18dc17d9.js.map